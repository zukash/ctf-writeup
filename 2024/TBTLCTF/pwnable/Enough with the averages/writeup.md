---
tags:
createdAt: 2024/05/13
---

# Enough with the averages

## 概要

* 配列の初期化忘れ
* scanf のフォーマット違反

## 観察

* 配列の初期化忘れ
  * vuln で定義した score の初期化が抜けている
  * スタック領域には、read_flag の変数の値が残っている
  * score の中に flag の値が入っている
* scanf のフォーマット違反
  * `%d` を受け付けているところに、数字以外の文字列を送ると...
  * 代入はスキップされる
  * （読み込んだ文字列は標準入力に戻される）

## 解法

* `0` と `a` を適切に送ることで、`score[i:20]/20` が得られる
* `score[i] == score[i:20] - score[i+1:20]` より `score` を復元できる
