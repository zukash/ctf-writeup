import tesseract from "node-tesseract-ocr";
import { readFile } from "fs/promises";

const config = {
	lang: "eng",
	oem: 1,
	psm: 3,
};

export const getTextFromImage = async (imagePath) => {
	try {
		const data = await readFile(imagePath);
		const text = await tesseract.recognize(data, config);
		return text;
	} catch (err) {
		console.log(err);
		return "An error occurred while reading the image.";
	}
};
